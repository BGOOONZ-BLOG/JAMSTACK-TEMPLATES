// webpack.config.min.js
// release min dist files
var pkg = require('./package');
var webpack = require("webpack");
var ExtractTextPlugin = require("extract-text-webpack-plugin");
var config = require("./webpack.config.js");

config.plugins = [
  new ExtractTextPlugin('[name].min.css'),
  new webpack.optimize.UglifyJsPlugin({
    sourceMap: false,
    output: {
      ascii_only: true
    }
  })
];
config.output.filename = config.output.filename.replace(/\.js$/, ".min.js");
delete config.entry.demo;
delete config.entry[pkg.name];
delete config.devtool;

module.exports = config;
