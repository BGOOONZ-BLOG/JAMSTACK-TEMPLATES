<div class="code-box" id="picker-demo-with-time-picker">
  <div class="code-box-demo">
    <div id="components-date-picker-demo-with-time-picker"></div>
    <script>mountNode = document.getElementById('components-date-picker-demo-with-time-picker');</script>
    <script>(function(){'use strict';

var _antd = require('antd');

var DateTimePicker = React.createClass({
  displayName: 'DateTimePicker',
  handleChange: function handleChange(from, value) {
    this.result = this.result || new Date();
    if (!value) {
      if (from === 'date') {
        this.selectedDate = false;
      } else {
        this.selectedTime = false;
      }
      return;
    }
    if (from === 'date') {
      this.result.setFullYear(value.getFullYear());
      this.result.setMonth(value.getMonth());
      this.result.setDate(value.getDate());
      this.selectedDate = true;
    } else {
      this.result.setHours(value.getHours());
      this.result.setMinutes(value.getMinutes());
      this.result.setSeconds(value.getSeconds());
      this.selectedTime = true;
    }
    if (this.selectedDate && this.selectedTime) {
      this.props.onSelect(this.result);
    }
  },
  render: function render() {
    return React.createElement(
      'div',
      null,
      React.createElement(_antd.DatePicker, { onChange: this.handleChange.bind(null, 'date') }),
      React.createElement(_antd.TimePicker, { onChange: this.handleChange.bind(null, 'time') })
    );
  }
});

function onSelect(value) {
  console.log('选择了时间：', value);
}

ReactDOM.render(React.createElement(DateTimePicker, { onSelect: onSelect }), mountNode);})()</script><div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">import</span> { DatePicker, TimePicker } <span class="hljs-keyword">from</span> <span class="hljs-string">'antd'</span>;

<span class="hljs-keyword">const</span> DateTimePicker = React.createClass({
  handleChange(from, value) {
    <span class="hljs-keyword">this</span>.result = <span class="hljs-keyword">this</span>.result || <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();
    <span class="hljs-keyword">if</span> (!value) {
      <span class="hljs-keyword">if</span> (from === <span class="hljs-string">'date'</span>) {
        <span class="hljs-keyword">this</span>.selectedDate = <span class="hljs-literal">false</span>;
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">this</span>.selectedTime = <span class="hljs-literal">false</span>;
      }
      <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-keyword">if</span> (from === <span class="hljs-string">'date'</span>) {
      <span class="hljs-keyword">this</span>.result.setFullYear(value.getFullYear());
      <span class="hljs-keyword">this</span>.result.setMonth(value.getMonth());
      <span class="hljs-keyword">this</span>.result.setDate(value.getDate());
      <span class="hljs-keyword">this</span>.selectedDate = <span class="hljs-literal">true</span>;
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">this</span>.result.setHours(value.getHours());
      <span class="hljs-keyword">this</span>.result.setMinutes(value.getMinutes());
      <span class="hljs-keyword">this</span>.result.setSeconds(value.getSeconds());
      <span class="hljs-keyword">this</span>.selectedTime = <span class="hljs-literal">true</span>;
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.selectedDate &amp;&amp; <span class="hljs-keyword">this</span>.selectedTime) {
      <span class="hljs-keyword">this</span>.props.onSelect(<span class="hljs-keyword">this</span>.result);
    }
  },
  render() {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">DatePicker</span> <span class="hljs-attribute">onChange</span>=<span class="hljs-value">{this.handleChange.bind(null,</span> '<span class="hljs-attribute">date</span>')} /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">TimePicker</span> <span class="hljs-attribute">onChange</span>=<span class="hljs-value">{this.handleChange.bind(null,</span> '<span class="hljs-attribute">time</span>')} /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>;</span>
  }
});

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onSelect</span>(<span class="hljs-params">value</span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'选择了时间：'</span>, value);
}

ReactDOM.render(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">DateTimePicker</span> <span class="hljs-attribute">onSelect</span>=<span class="hljs-value">{onSelect}</span> /&gt;</span>
, mountNode);</span></code></pre></div>
  </div>
  <div class="code-box-meta markdown">
    <div class="code-box-title">
      <a href="#picker-demo-with-time-picker">日期时间选择二</a>
    </div>
    <p>和 <a href="/components/timepicer">时间选择框</a> 配合使用。</p>
    <span class="collapse anticon anticon-circle-o-right" unselectable="none" style="-webkit-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;"></span>
  </div>
</div>