<div class="code-box" id="demo-form-in-modal">
  <div class="code-box-demo">
    <div id="components-form-demo-form-in-modal"></div>
    <script>mountNode = document.getElementById('components-form-demo-form-in-modal');</script>
    <script>(function(){"use strict";

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _antd = require("antd");

var createForm = _antd.Form.create;
var FormItem = _antd.Form.Item;

var Demo = React.createClass({
  displayName: "Demo",
  getInitialState: function getInitialState() {
    return { visible: false };
  },
  handleSubmit: function handleSubmit() {
    console.log(this.props.form.getFieldsValue());
    this.hideModal();
  },
  showModal: function showModal() {
    this.setState({ visible: true });
  },
  hideModal: function hideModal() {
    this.setState({ visible: false });
  },
  render: function render() {
    var getFieldProps = this.props.form.getFieldProps;


    var formItemLayout = {
      labelCol: { span: 4 },
      wrapperCol: { span: 20 }
    };
    return React.createElement(
      "div",
      null,
      React.createElement(
        _antd.Button,
        { type: "primary", onClick: this.showModal },
        "\u70B9\u51FB\u6709\u60CA\u559C"
      ),
      React.createElement(
        _antd.Modal,
        { title: "\u767B\u5F55", visible: this.state.visible, onOk: this.handleSubmit, onCancel: this.hideModal },
        React.createElement(
          _antd.Form,
          { horizontal: true, form: this.props.form },
          React.createElement(
            FormItem,
            _extends({}, formItemLayout, {
              label: "\u7528\u6237\u540D\uFF1A" }),
            React.createElement(_antd.Input, _extends({}, getFieldProps('username', {}), { type: "text", autoComplete: "off" }))
          ),
          React.createElement(
            FormItem,
            _extends({}, formItemLayout, {
              label: "\u5BC6\u7801\uFF1A" }),
            React.createElement(_antd.Input, _extends({}, getFieldProps('password', {}), { type: "password", autoComplete: "off" }))
          )
        )
      )
    );
  }
});

Demo = createForm()(Demo);

ReactDOM.render(React.createElement(Demo, null), mountNode);})()</script><div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">import</span> { Button, Form, Input, Modal } <span class="hljs-keyword">from</span> <span class="hljs-string">'antd'</span>;
<span class="hljs-keyword">const</span> createForm = Form.create;
<span class="hljs-keyword">const</span> FormItem = Form.Item;

<span class="hljs-keyword">let</span> Demo = React.createClass({
  getInitialState() {
    <span class="hljs-keyword">return</span> { visible: <span class="hljs-literal">false</span> };
  },

  handleSubmit() {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">this</span>.props.form.getFieldsValue());
    <span class="hljs-keyword">this</span>.hideModal();
  },

  showModal() {
    <span class="hljs-keyword">this</span>.setState({ visible: <span class="hljs-literal">true</span> });
  },

  hideModal() {
    <span class="hljs-keyword">this</span>.setState({ visible: <span class="hljs-literal">false</span> });
  },

  render() {
    <span class="hljs-keyword">const</span> { getFieldProps } = <span class="hljs-keyword">this</span>.props.form;

    <span class="hljs-keyword">const</span> formItemLayout = {
      labelCol: { span: <span class="hljs-number">4</span> },
      wrapperCol: { span: <span class="hljs-number">20</span> },
    };
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Button</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"primary"</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">{this.showModal}</span>&gt;</span>点击有惊喜<span class="hljs-tag">&lt;/<span class="hljs-title">Button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Modal</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"登录"</span> <span class="hljs-attribute">visible</span>=<span class="hljs-value">{this.state.visible}</span> <span class="hljs-attribute">onOk</span>=<span class="hljs-value">{this.handleSubmit}</span> <span class="hljs-attribute">onCancel</span>=<span class="hljs-value">{this.hideModal}</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">Form</span> <span class="hljs-attribute">horizontal</span> <span class="hljs-attribute">form</span>=<span class="hljs-value">{this.props.form}</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">FormItem</span>
              {<span class="hljs-attribute">...formItemLayout</span>}
              <span class="hljs-attribute">label</span>=<span class="hljs-value">"用户名："</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-title">Input</span> {<span class="hljs-attribute">...getFieldProps</span>('<span class="hljs-attribute">username</span>', {})} <span class="hljs-attribute">type</span>=<span class="hljs-value">"text"</span> <span class="hljs-attribute">autoComplete</span>=<span class="hljs-value">"off"</span> /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">FormItem</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">FormItem</span>
              {<span class="hljs-attribute">...formItemLayout</span>}
              <span class="hljs-attribute">label</span>=<span class="hljs-value">"密码："</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-title">Input</span> {<span class="hljs-attribute">...getFieldProps</span>('<span class="hljs-attribute">password</span>', {})} <span class="hljs-attribute">type</span>=<span class="hljs-value">"password"</span> <span class="hljs-attribute">autoComplete</span>=<span class="hljs-value">"off"</span> /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">FormItem</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-title">Form</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">Modal</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
    )</span>;
  }
});

Demo = createForm()(Demo);

ReactDOM.render(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">Demo</span> /&gt;</span>, mountNode);</span></code></pre></div>
  </div>
  <div class="code-box-meta markdown">
    <div class="code-box-title">
      <a href="#demo-form-in-modal">与 Modal 配合使用</a>
    </div>
    
<p>在 Modal 中使用 Form，当点击 Modal 的确定时，调用 <code>this.props.form.getFieldsValue</code> 获取表单内的值。</p>

    <span class="collapse anticon anticon-circle-o-right" unselectable="none"></span>
  </div>
</div>